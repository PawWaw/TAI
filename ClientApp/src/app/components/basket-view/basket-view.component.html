<h2 mat-dialog-title>Your basket</h2>
<mat-card>
  <mat-dialog-content>
    <div>
      <form [formGroup]="simpleUserDataForm">
        <mat-form-field appearance="legacy"
                        class="spacer">
          <input type="text"
                 matInput
                 readonly
                 placeholder="FirstName"
                 formControlName="firstName">
        </mat-form-field>
        <mat-form-field appearance="legacy"
                        class="spacer">
          <input type="text"
                 matInput
                 readonly
                 placeholder="LastName"
                 formControlName="lastName">
        </mat-form-field>
        <mat-form-field appearance="legacy"
                        class="spacer">
          <input type="text"
                 matInput
                 readonly
                 placeholder="City"
                 formControlName="city">
        </mat-form-field>
        <mat-form-field appearance="legacy"
                        class="spacer">
          <input type="text"
                 matInput
                 readonly
                 placeholder="Address"
                 formControlName="address">
        </mat-form-field>
      </form>
    </div>
    <div class="mat-elevation-z8">
      <table mat-table
             [dataSource]="dataSource"
             matSort>

        <ng-container matColumnDef="restaurantName">
          <th mat-header-cell
              *matHeaderCellDef
              mat-sort-header> Restaurant </th>
          <td mat-cell
              *matCellDef="let row"> {{getRestaurantName(row.dish)}} </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell
              *matHeaderCellDef
              mat-sort-header> Name </th>
          <td mat-cell
              *matCellDef="let row"> {{row.dish.name}} </td>
        </ng-container>

        <ng-container matColumnDef="price">
          <th mat-header-cell
              *matHeaderCellDef
              mat-sort-header> Price </th>
          <td mat-cell
              *matCellDef="let row"> {{row.dish.price * row.count}} </td>
        </ng-container>

        <ng-container matColumnDef="count">
          <th mat-header-cell
              *matHeaderCellDef
              mat-sort-header> Dishes amount </th>
          <td mat-cell
              *matCellDef="let row"> {{row.count}} </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell
              *matHeaderCellDef></th>
          <td mat-cell
              class="center-cell"
              *matCellDef="let element">

            <mat-icon (click)="removeOne(element)"
                      mat-button
                      class="icon-pointer">remove</mat-icon>
            <mat-icon (click)="addOne(element)"
                      mat-button
                      class="icon-pointer">add</mat-icon>
            <mat-icon (click)="deleteElement(element)"
                      mat-button
                      class="icon-pointer">delete_forever</mat-icon>

          </td>
        </ng-container>

        <tr mat-header-row
            *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row
            *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button
            mat-dialog-close>Close</button>
    <button mat-button
            [mat-dialog-close]="true"
            (click)="submitOrder()"
            cdkFocusInitial>Submit your order</button>
  </mat-dialog-actions>
</mat-card>
